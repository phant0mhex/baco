<nav class="bg-gray-900 text-white shadow-lg">
  <div class="container mx-auto px-6 py-3">
    
    <div class="flex justify-between items-center">
      <a href="accueil.html" class="block transition-opacity duration-300 hover:opacity-80">
        <img src="logobaco.png" alt="Logo BACO" class="h-20 w-auto">
      </a>
      <button id="mobile-menu-button" class="md:hidden p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700">
        <i id="mobile-menu-icon" data-lucide="menu" class="w-6 h-6"></i>
      </button>
    </div>

    <div id="nav-content" class="hidden md:flex flex-col md:flex-row md:items-start md:justify-between w-full md:flex-nowrap">
      
      <div class="flex flex-col md:flex-row md:space-x-4 mt-4 md:mt-0 flex-wrap" id="nav-links">
        <a href="operationnel.html" class="flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700"><i data-lucide="shield" class="w-4 h-4"></i><span>Opérationnel</span></a>
        <a href="pmr.html" class="flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700"><i data-lucide="accessibility" class="w-4 h-4"></i><span>PMR</span></a>
        <a href="bus.html" class="flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700"><i data-lucide="bus" class="w-4 h-4"></i><span>Bus</span></a>
        <a href="taxi.html" class="flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700"><i data-lucide="car" class="w-4 h-4"></i><span>Taxi</span></a>
        <a href="repertoire.html" class="flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700"><i data-lucide="book-user" class="w-4 h-4"></i><span>Répertoire</span></a>
        <a href="lignes.html" class="flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700"><i data-lucide="train" class="w-4 h-4"></i><span>Lignes</span></a>
        <a href="ptcar.html" class="flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700"><i data-lucide="tag" class="w-4 h-4"></i><span>PtCar</span></a>
        <a href="documents.html" class="flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700"><i data-lucide="folder" class="w-4 h-4"></i><span>Documents</span></a>
        <a href="journal.html" class="flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700">
          <i data-lucide="book-copy" class="w-4 h-4"></i>
          <span>Journal</span>
        </a>
        <!-- <a href="changelog.html" class="flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700">
          <i data-lucide="list-checks" class="w-4 h-4"></i>
          <span>Changelog</span>
        </a> -->
        <a href="admin.html" class="admin-only flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700 text-yellow-400"><i data-lucide="shield-check" class="w-4 h-4"></i><span>Admin</span></a>
     
     
      </div>

      <div class="flex flex-col md:flex-row items-start md:items-center gap-4 mt-4 md:mt-0 border-t border-gray-700 pt-4 md:border-none md:pt-0 md:flex-shrink-0">
        
    <div class="relative hidden md:block" id="presence-container">
          <button id="presence-toggle-button" class="p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 relative">
              <i data-lucide="users" class="w-5 h-5"></i>
              <span id="presence-counter" class="hidden absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-blue-600 text-xs font-bold text-white">0</span>
          </button>
          <div id="presence-dropdown" class="hidden absolute top-full right-0 mt-2 w-64 bg-gray-800 border border-gray-700 rounded-lg shadow-xl z-50">
              <div class="p-3 border-b border-gray-700"><h4 class="font-semibold text-sm text-gray-100">En ligne</h4></div>
              <div id="presence-list" class="p-2 space-y-1 max-h-60 overflow-y-auto"></div>
          </div>
        </div>

        <div class="relative" id="profile-dropdown-container">
          <button id="profile-toggle-button" class="rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-gray-900 focus-visible:ring-blue-500">
            <img id="nav-avatar" 
                 src="https://via.placeholder.com/40" 
                 alt="Avatar" 
                 class="w-10 h-10 rounded-full object-cover cursor-pointer transition-transform duration-150 ease-in-out hover:scale-105">
          </button>

          <div id="profile-dropdown" class="hidden absolute top-full md:right-0 left-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-xl z-50">
            <div class="p-2">
              <a href="profil.html" class="flex items-center gap-3 w-full px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white">
                <i data-lucide="user-cog" class="w-4 h-4"></i>
                <span>Mon Profil</span>
              </a>
              <button id="logout-button" class="flex items-center gap-3 w-full px-3 py-2 rounded-md text-sm font-medium text-red-400 hover:bg-red-700 hover:text-white">
                <i data-lucide="log-out" class="w-4 h-4"></i>
                <span>Déconnexion</span>
              </button>
            </div>
          </div>
        </div>
        </div>
    </div>
  </div>
</nav>